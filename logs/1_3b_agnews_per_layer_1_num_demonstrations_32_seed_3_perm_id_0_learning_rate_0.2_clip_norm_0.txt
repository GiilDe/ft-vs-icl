base_dir/ana_rlt/en_dense_lm_1_3b/agnews/ftzs 2000
loading ftzs data costs 119.14914202690125 seconds
base_dir/ana_rlt/en_dense_lm_1_3b/agnews/zs 2000
loading zs data costs 81.99108171463013 seconds
base_dir/ana_rlt/en_dense_lm_1_3b/agnews/icl 2000
loading icl data costs 108.0564534664154 seconds
================= number of both F2T examples: 324
================= number of ICL F2T examples: 782
================= number of FTZS F2T examples: 338
----------------- number of same changes: 349
----------------- number of ICL changed examples: 965
----------------- number of FTZS changed examples: 1851
++++++++++++++++ ICL recall to FT: 95.86
++++++++++++++++ same change recall to all changed: 14.15
count_f2t costs 0.005995750427246094 seconds
============================== analyzing self_attn_out_hiddens ==============================
per-layer updates sim (icl-zs)&(ftzs-zs):
 [0.6696 0.0153 0.3431 0.1185 0.3692 0.1124 0.4795 0.1992 0.3062 0.2826
 0.3626 0.3012 0.4458 0.4086 0.41   0.3943 0.4317 0.3191 0.266  0.3785
 0.267  0.1465 0.1329 0.5522]
overall updates sim (icl-zs)&(ftzs-zs):
 0.3213

per-layer updates sim (icl-zs)&(random):
 [-0.0041  0.0051  0.0198  0.0196  0.015   0.0058  0.0068 -0.0008  0.0002
 -0.0033  0.0064  0.0028 -0.0001  0.002  -0.0036 -0.0027 -0.0014 -0.0047
 -0.0041 -0.0041 -0.      0.0063 -0.0055 -0.0062]
overall updates sim (icl-zs)&(random):
 0.002

analyze_sim costs 22.455154418945312 seconds
============================== analyzing attn_map, softmax=False ==============================
per-layer direct sim (icl)&(zs):
 [ 7.000e-04 -1.213e-01 -9.000e-03  5.539e-01  7.704e-01  7.505e-01
  6.840e-01  4.856e-01  5.895e-01  2.146e-01  3.829e-01  7.289e-01
  5.075e-01  6.264e-01  4.787e-01  4.540e-01  6.749e-01  8.413e-01
  7.319e-01  6.175e-01  3.797e-01  4.060e-02 -9.080e-02  2.220e-02]
overall direct sim (icl)&(zs):
 0.4298

analyze_attn_map (w/o softmax) costs 344.61375665664673 seconds
